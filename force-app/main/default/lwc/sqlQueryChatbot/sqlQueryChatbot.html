<template>
    <div class="slds-m-around_medium">
        <h2 class="slds-text-heading_medium slds-m-bottom_medium">SQL Query Generator</h2>
        <lightning-textarea 
            name="userPrompt" 
            label="Enter your question about the employees table"
            value={userPrompt}
            onchange={handlePromptChange}>
        </lightning-textarea>
        <lightning-button 
            label="Generate Query" 
            onclick={handleGenerateQuery} 
            class="slds-m-top_small"
            disabled={isLoading}>
        </lightning-button>
        <template if:true={isLoading}>
            <div class="slds-m-top_small">
                <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
            </div>
        </template>
        <template if:true={sqlQuery}>
            <div class="slds-m-top_medium">
                <p class="slds-text-heading_small">Generated SQL Query:</p>
                <pre class="slds-m-top_x-small slds-p-around_small slds-box">{sqlQuery}</pre>
            </div>
        </template>
        <template if:true={error}>
            <div class="slds-m-top_small slds-text-color_error">
                {error}
            </div>
        </template>
    </div>
</template>