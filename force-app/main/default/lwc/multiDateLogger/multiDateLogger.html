<template>
    <div class="slds-card">
        <div class="slds-card__header">
            <h2 class="slds-card__header-title">Multi-Date Logger</h2>
        </div>
        <div class="slds-card__body">
            <div class="slds-grid slds-gutters">
                <div class="slds-col">
                    <div class="calendar">
                        <div class="calendar-header">
                            <button class="slds-button" onclick={prevMonth}>&lt;</button>
                            <span>{monthYear}</span>
                            <button class="slds-button" onclick={nextMonth}>&gt;</button>
                        </div>
                        <div class="calendar-body">
                            <div class="weekdays">
                                <template for:each={weekdays} for:item="day">
                                    <div key={day}>{day}</div>
                                </template>
                            </div>
                            <div class="days">
                                <template for:each={calendarDays} for:item="day">
                                    <div key={day.date} class={day.className} data-date={day.date} onclick={handleDateClick}>
                                        {day.dayOfMonth}
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-col">
                    <lightning-combobox
                        label="Project"
                        value={projectName}
                        options={projectOptions}
                        onchange={handleProjectChange}>
                    </lightning-combobox>
                    <lightning-combobox
                        label="Task"
                        value={taskName}
                        options={taskOptions}
                        onchange={handleTaskChange}>
                    </lightning-combobox>
                    <lightning-input 
                        type="number" 
                        label="Time Spent (minutes)"
                        value={timeSpent}
                        onchange={handleTimeSpentChange}>
                    </lightning-input>
                    <lightning-textarea 
                        label="Description"
                        value={description}
                        onchange={handleDescriptionChange}>
                    </lightning-textarea>
                    <lightning-button 
                        label="Save Logs"
                        onclick={MultisaveLog}
                        variant="brand">
                    </lightning-button>
                </div>
            </div>
        </div>
    </div>
    <template if:true={showMessage}>
        <div class="slds-notify slds-notify_alert slds-theme_success" role="alert">
            <span class="slds-assistive-text">success</span>
            <h2>{message}</h2>
        </div>
    </template>
    <template if:true={showWarning}>
        <div class="slds-notify slds-notify_alert slds-theme_warning" role="alert">
            <span class="slds-assistive-text">warning</span>
            <h2>{warningMessage}</h2>
        </div>
    </template>
    <template if:true={showError}>
        <div class="slds-notify slds-notify_alert slds-theme_error" role="alert">
            <span class="slds-assistive-text">error</span>
            <h2>{message}</h2>
        </div>
    </template>
</template>